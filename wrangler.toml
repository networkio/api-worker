

# 绑定 KV 命名空间 —— 在创建完 KV 后把 namespace_id 填入下列字段
[[kv_namespaces]]
binding = "API_KEYS_KV"
id = "<API_KEYS_KV_NAMESPACE_ID>"

[[kv_namespaces]]
binding = "RATE_LIMIT_KV"
id = "<RATE_LIMIT_KV_NAMESPACE_ID>"

[[kv_namespaces]]
binding = "METRICS_KV"
id = "<METRICS_KV_NAMESPACE_ID>"

# 可选：在 production 环境中设置不同的变量/绑定
[env.production]
account_id = "<YOUR_CLOUDFLARE_ACCOUNT_ID>"
route = "" # 可选：填入你的 Worker route（例如: workers.yourdomain.com/*）
workers_dev = false

# 在 CI/CD 中会通过环境变量注入这些值（不要把真实密钥提交到仓库）
[env.production.vars]
API_MASTER_KEY = "${API_MASTER_KEY}"
ALLOWED_ORIGINS = "${ALLOWED_ORIGINS}"
# 你可以在 Cloudflare dashboard 的 Worker Variables 中设置 API_KEYS（备选）
API_KEYS = "${API_KEYS}"
